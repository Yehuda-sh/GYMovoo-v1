# GitHub Copilot - הנחיות עבודה לפרויקט GYMovoo

## 🚫 פקודות טרמינל אסורות

- **לעולם לא לשלוח פקודות `timeout`** או פקודות המתנה אחרות
- אלה פקודות פנימיות שלא נחוצות למשתמש

## ✅ כללי עבודה עם טרמינל

- לשלוח **רק פקודות שהמשתמש מבקש באופן מפורש**
- לשלוח רק פקודות **הנחוצות באמת לפרויקט** (build, start, install וכו')
- **לחכות שהמשתמש יבקש restart לטרמינל** - לא לעשות זאת באופן אוטומטי

### 🔄 כללי רענון Expo - חשוב מאוד!

**✅ לרענון האפליקציה בפיתוח:**

- **אם Expo פועל** - פשוט לבקש מהמשתמש ללחוץ `r` בטרמינל הקיים
- **אסור לפתוח טרמינל חדש** כשרוצים לרענן
- זה מהיר יותר ולא מתנגש עם פקודת הביטול של Expo

**⚠️ לפקודות Windows חדשות:**

- **רק פקודות Windows** (כמו `dir`, `copy`, `move`) - טרמינל חדש
- **לא פקודות Expo** - אלה תמיד בטרמינל הקיים

**🚫 אסור להריץ מחדש `npx expo start` כשזה כבר פועל!**

## 🎯 עקרונות כלליים

- לשאול לפני ביצוע פעולות שאינן מוגדרות בבירור
- לתת הסברים קצרים ולעניין
- לעבוד בשיתוף עם המשתמש, לא במקומו
- **🚨 אסור לכלול נתונים דינמיים בתיעוד** - כמו מספרי אימונים, דקות, או סטטיסטיקות ספציפיות שמשתנות עם השימוש

## ⚠️ כללים חשובים לתיעוד

### 🚫 אסור לכתוב בתיעוד:

- מספרים ספציפיים של אימונים ("69 אימונים")
- נתוני זמן ספציפיים ("4,817 דקות")
- ציונים או דירוגים ספציפיים ("ממוצע 4.5/5")
- כל נתון שמשתנה עם שימוש במערכת

### ✅ במקום זה, כתוב:

- "מגוון אימונים מהדמו"
- "נתונים מלאים ומדויקים"
- "חישוב תקין של דירוגים"
- תיאור יכולות, לא תוצאות נוכחיות

## 📱 מידע על הפרויקט

- **שם הפרויקט:** GYMovoo - אפליקציית כושר בעברית
- **טכנולוגיות:** React Native + Expo
- **אינטגרציה:** WGER API לתרגילי כושר באנגלית + בסיס נתונים מקומי בעברית
- **מטרה:** לספק תוכניות אימון מותאמות אישית עם מערכת AI חכמה
- **מצב נוכחי:** 27 מסכים ראשיים פעילים, 3 קטגוריות רכיבים (common/ui/workout), 15 שירותים פעילים
- **🆕 היסטוריה:** HistoryScreen עם תמיכה מלאה בנתוני דמו ריאליסטיים ואינטגרציה מושלמת
- **🎯 תכונות עיקריות:** שאלון חכם 7 שאלות, מאגר ציוד 100+ פריטים, מערכת התאמת מגדר מתקדמת

## 🔧 הערות טכניות חשובות

- **הפעלת הפרויקט:** השתמש ב-`npx expo start` (לא `npm run start`)
- **מאגר תרגילים:** מאגר עשיר של תרגילים בעברית + תרגילי WGER באנגלית
- **WGER Integration:** עובד עם wgerService.ts (לא wgerApiService.ts)

## 📊 סטטיסטיקות הפרויקט המעודכנות

- **📱 מסכים פעילים:** 27 מסכים ראשיים (ללא רכיבים וגיבויים)
- **🧩 קטגוריות רכיבים:** 3 (common, ui, workout) עם 12 רכיבים
- **🔧 שירותים פעילים:** 15 שירותים כולל workoutHistoryService
- **📚 תיעוד:** 17 קבצי .md מאורגנים

## 🧹 ניקוי Cache - מתי זה חשוב?

- **מטרו:** לניקוי cache השתמש ב-`--clear` (לא `--reset-cache`)
- **מתי לנקות:** כשיש בעיות טעינה, שגיאות import, או שינויים לא מופיעים
- **פקודה:** `npx expo start --clear`
- **לא להגזים:** רק כשבאמת יש בעיה - לא בכל פעם
- **RTL Support:** תמיכה מלאה בעברית עם תיקוני RTL מקיפים
- **מערכת שאלון:** 7 שאלות דינמיות עם התאמת מגדר ותמיכת RTL מלאה
- **אינטגרציה מושלמת:** HistoryScreen מציג נתוני דמו עם fallback logic חכם

## 🌍 תמיכת RTL והתאמת מגדר

### עקרונות חשובים:

- **כל הטקסטים בעברית:** `textAlign: "right"` + `writingDirection: "rtl"`
- **סימני בחירה:** תמיד בצד ימין (`right: theme.spacing.md`)
- **ריווחים:** `paddingRight` במקום `paddingLeft` לאלמנטים עבריים
- **התאמת מגדר:** שאלה ראשונה קובעת את התאמת כל השאלון
- **נייטרליות:** טקסטים קבועים נוסחו בצורה נייטרלית

### פונקציות מרכזיות (מאומתות):

```typescript
// פונקציות התאמת מגדר - קיימות ב-smartQuestionnaireData.ts
adaptTextToGender(text: string): string
adaptOptionToGender(option: SmartOption): SmartOption

// שירותים מרכזיים - מאומתים
workoutHistoryService - ניהול היסטוריית אימונים עם התאמת מגדר (15 functions)
userStore - ניהול מצב משתמש עם פונקציות מתקדמות
wgerService.ts - שירות WGER ראשי (הנכון לשימוש)
wgerApiService.ts - שירות WGER משני (למקרי גיבוי)
```

## 🏗️ ארכיטקטורה מרכזית

- **ניווט:** AppNavigator.tsx (Stack) + BottomNavigation.tsx (Tabs)
- **AI System:** workoutDataService.ts עם אלגוריתם חכם לבחירת תרגילים
- **שאלון חכם:** SmartQuestionnaireManager עם 7 שאלות דינמיות + התאמת מגדר
- **Hook מרכזי:** useWgerExercises.ts למשיכת תרגילים מ-WGER (מאומת)
- **מאגר ציוד:** 100+ פריטי ציוד עם קטגוריזציה חכמה
- **🆕 היסטוריה:** HistoryScreen עם תמיכה מלאה בנתוני דמו ריאליסטיים ואינטגרציה מושלמת (27 מסכים פעילים)
- **🔧 ניהול מצב:** userStore מורחב עם פונקציות מתקדמות לשאלון ומגדר (15 services פעילים)

## ⚠️ בעיות ידועות וטעויות נפוצות

- **אל תשתמש ב-`npm run start`** - השתמש ב-`npx expo start`
- **אל תפתח טרמינל חדש לרענון Expo** - בקש מהמשתמש ללחוץ `r` בטרמינל הקיים
- **אל תכלול נתונים דינמיים בתיעוד** - כמו מספרי אימונים ספציפיים או זמנים
- שים לב לקונפליקטים בין wgerService.ts (הנכון) ו-wgerApiService.ts (גיבוי)
- **RTL חובה:** כל טקסט עברי חייב `textAlign: "right"` + `writingDirection: "rtl"`
- **מגדר:** שאלת מגדר תמיד ראשונה, ואחריה התאמה דינמית
- יש מספר קבצי שאלון - השתמש ב-smartQuestionnaireData.ts החדש
- **מבנה נתונים:** בדוק תמיד את המבנה האמיתי של נתוני הדמו (user.activityHistory.workouts)

## 🚨 לקחים קריטיים מהפרויקט

### 🎯 לקחים עדכניים חשובים:

- **נתונים דינמיים:** לעולם לא לכלול מספרים ספציפיים בתיעוד (אימונים, דקות, ציונים)
- **עבודה עם Expo:** אם Expo פועל - תמיד עבוד בטרמינל הקיים, לא תפתח חדש
- **מבנה נתונים:** תמיד בדוק את המבנה האמיתי (object.key, לא array ישירות)
- **אינטגרציה:** HistoryScreen עובד עם נתוני דמו דרך user.activityHistory.workouts

### 🏗️ כללי פיתוח יסודיים:

- **RTL:** לא רק `textAlign: 'right'` - גם `flexDirection: 'row-reverse'` ו-`chevron-forward`
- **עיצוב:** אין ערכים קשיחים - רק מ-theme.ts
- **FlatList:** לעולם לא לקנן בתוך ScrollView
- **ייבוא:** רק imports יחסיים (./) - לא מוחלטים
- **אייקונים:** תמיד MaterialCommunityIcons ומותאמים RTL
- **הערות:** תמיד דו-לשוניות (עברית + אנגלית)
- **קבצים:** מקסימום 500 שורות - לפצל לcomponents/hooks/utils
- **ניווט:** כל route חדש = 3 עדכונים (screen + types.ts + AppNavigator.tsx)
- **בדיקות:** להריץ תמיד לפני commit: checkNavigation.js, checkMissingComponents.js, projectHealthCheck.js

## 📝 כללי תיעוד חובה

- כל קובץ מתחיל ב-Header תיעוד:

```typescript
/**
 * @file [נתיב מלא]
 * @brief [מה עושה]
 * @dependencies [תלויות עיקריות]
 * @notes [הערות מיוחדות]
 * @recurring_errors [שגיאות נפוצות]
 */
```

- הערות בקוד תמיד דו-לשוניות
- אין שימוש ב-any בTypeScript
- כל קומפוננטה פונקציונלית בלבד

---

_קובץ זה נועד להבטיח עבודה חלקה ויעילה בין GitHub Copilot למשתמש_
