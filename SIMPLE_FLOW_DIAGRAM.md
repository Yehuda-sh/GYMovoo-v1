# 🔄 דיאגרמת זרימת המשתמש הפשוטה - GYMovoo

תרשים זרימת המידע ממסך הברוכים הבאים ועד למסך הראשי עם שמות הכפתורים האמיתיים### הכפתורים האמיתיים במערכת:

- **WelcomeScreen**: "התחל עכשיו", "כבר יש לי חשבון" ✅, "כניסה מהירה" (אם זמין), "התחברות עם Google"
- **RegisterScreen**: "צור חשבון", "הרשמה עם Google", "התחבר עכשיו"
- **LoginScreen**: "התחבר", "התחבר עם Google"
- **MainScreen**: "התחל אימון מהיר", "צפה בכל ההיסטוריה"

### כפתורי פיתוח (**DEV** בלבד):

- **WelcomeScreen**: "מסך פיתוח" (עליון שמאל), "Debug Cache" (עליון ימין)

### ✅ כפתור שנוסף בהצלחה:

- ✅ **"כבר יש לי חשבון"** - נוסף ל-WelcomeScreen עם ניתוב ישיר ל-LoginScreen

� **שיפורים שבוצעו**:

- הוספת כפתור "כבר יש לי חשבון" עם עיצוב מותאם
- העלאת כפתורי הפיתוח לחלק העליון של המסך
- שיפור הזרימה עם 4 מסלולים ברוריםם האמיתיים במערכת

```
┌─────────────────────────────────┐
│        📱 WelcomeScreen         │
│      מסך ברוכים הבאים          │
└─────────────────────────────────┘
                  │
                  ▼
    ┌─────────────────────────────┐
    │    כפתורים זמינים:          │
    └─────────────────────────────┘
         │        │        │        │
         ▼        ▼        ▼        ▼
  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌────────────┐
  │"התחל עכשיו"│ │"כבר יש לי │ │"כניסה     │ │"התחברות   │
  │           │ │ חשבון"    │ │ מהירה"    │ │ עם Google" │
  │(הרשמה    │ │(התחברות  │ │(אם זמין)  │ │ (בפיתוח)  │
  │ חדשה)    │ │ רגילה)   │ │(משתמש קיים)│ │           │
  └───────────┘ └───────────┘ └───────────┘ └────────────┘
       │              │              │              │
       ▼              ▼              │              ▼
┌─────────────────┐ ┌─────────────────┐│        ┌─────────────┐
│ RegisterScreen  │ │   LoginScreen   ││        │   הודעה:   │
│                 │ │                 ││        │  "זמין      │
│   "צור חשבון"   │ │   "התחבר"       ││        │  בגרסה      │
│                 │ │                 ││        │  הבאה"     │
│אם יש חשבון:     │ └─────────────────┘│        └─────────────┘
│"כבר יש לך חשבון?"│         │         │
│"התחבר עכשיו"    │         │         │
└─────────────────┘         │         │
         │                  │         │
         ▼                  │         │
   ┌─────────────────┐      │         │
   │   LoginScreen   │      │         │
   │                 │      │         │
   │   "התחבר"       │      │         │
   │                 │      │         │
   └─────────────────┘      │         │
         │                  │         │
         │      ┌───────────┘         │
         │      │           ┌─────────┘
         ▼      ▼           ▼
   ┌─────────────────────────┐
   │  🎯 בדיקת סטטוס:       │
   │                         │
   │ האם השתמש השלים שאלון?  │
   └─────────────────────────┘
             │        │
        לא השלים     השלים
             │        │
             ▼        ▼
   ┌──────────────────┐ ┌─────────────────┐
   │ UnifiedQuestionnaire │ MainScreen    │
   │                  │ │                 │
   │  שאלון מסטרד     │ │   מסך ראשי     │
   │  אישי לכושר      │ │                 │
   │                  │ │ כפתורים:       │
   │ לאחר השלמה:      │ │ "התחל אימון     │
   │ ← למסך ראשי      │ │  מהיר"          │
   └──────────────────┘ │ "צפה בכל        │
                        │  ההיסטוריה"    │
                        │ "הגדרות"        │
                        │ ועוד...         │
                        └─────────────────┘
```

### 🛠️ כפתורי פיתוח נוספים ב-WelcomeScreen:

(מוצגים רק במצב **DEV** - **מיקום חדש: למעלה במסך**)

```
┌─────────────────────────────────┐
│  🔧 כפתורי פיתוח (למעלה):      │
│                                 │
│  ┌─────────────────┐             │
│  │   "מסך פיתוח"   │ ←(שמאל עליון)│
│  │ (DeveloperScreen)│             │
│  └─────────────────┘             │
│                                 │
│              ┌─────────────────┐ │
│              │  "Debug Cache"  │ │←(ימין עליון)
│              │ (הצגת Cache     │ │
│              │  סטטיסטיקות)   │ │
│              └─────────────────┘ │
└─────────────────────────────────┘
```

## 🔍 פירוט המסלולים:

### מסלול 1: "התחל עכשיו" (המשתמש החדש)

1. **WelcomeScreen** → לחיצה על "התחל עכשיו"
2. **RegisterScreen** → מילוי פרטים + "צור חשבון"
3. **בדיקת שאלון** → האם השלים? ← לא
4. **UnifiedQuestionnaireScreen** → שאלון מותאם אישית
5. **MainScreen** → הגעה למסך הראשי

### מסלול 2: "כבר יש לי חשבון" (התחברות ישירה)

1. **WelcomeScreen** → לחיצה על "כבר יש לי חשבון"
2. **LoginScreen** → מילוי פרטים + "התחבר"
3. **בדיקת סטטוס שאלון**
4. **MainScreen** או **UnifiedQuestionnaireScreen**

### מסלול 3: "כניסה מהירה" (משתמש קיים)

1. **WelcomeScreen** → לחיצה על "כניסה מהירה" (אם זמין)
2. **בדיקת סטטוס** → Smart Authentication Flow
3. **MainScreen** → הגעה ישירה למסך הראשי (אם השלים שאלון)
   **או**
   **UnifiedQuestionnaireScreen** → (אם לא השלים שאלון)

### מסלול 4: LoginScreen דרך RegisterScreen

1. **WelcomeScreen** → "התחל עכשיו"
2. **RegisterScreen** → "כבר יש לך חשבון?" → "התחבר עכשיו"
3. **LoginScreen** → "התחבר"
4. **בדיקת סטטוס שאלון**
5. **MainScreen** או **UnifiedQuestionnaireScreen**

## 🎯 נקודות מפתח:

### הכפתורים האמיתיים במערכת:

- **WelcomeScreen**: "התחל עכשיו", "כניסה מהירה" (אם זמין), "התחברות עם Google"
- **RegisterScreen**: "צור חשבון", "הרשמה עם Google", "התחבר עכשיו"
- **LoginScreen**: "התחבר", "התחבר עם Google"
- **MainScreen**: "התחל אימון מהיר", "צפה בכל ההיסטוריה"

### כפתורי פיתוח (**DEV** בלבד):

- **WelcomeScreen**: "מסך פיתוח", "Debug Cache"

### כפתור שקיים בקונסטנט אבל לא בפועל:

- ⚠️ **"כבר יש לי חשבון"** - קיים ב-welcomeScreenTexts.ts אבל לא מוצג במסך

💡 **הצעה**: אולי כדאי להוסיף את הכפתור "כבר יש לי חשבון" ב-WelcomeScreen כדי לאפשר גישה ישירה ל-LoginScreen

### Smart Authentication Flow:

- מערכת בדיקה חכמה שבודקת flag של התנתקות
- אם המשתמש התנתק לאחרונה → ניתוב לשאלון
- אם המשתמש לא התנתק → ניתוב ישיר למסך ראשי

### הבדל בין התיעוד למציאות:

✅ **עודכן**: כפתור "כבר יש לי חשבון" נוסף ל-WelcomeScreen  
✅ **במציאות עכשיו**: כל הכפתורים זמינים - "התחל עכשיו", "כבר יש לי חשבון", "כניסה מהירה"

## 📊 סיכום הזרימה הפשוטה:

```
ברוכים הבאים → בחירת מסלול → (הרשמה/התחברות) → בדיקת שאלון → מסך ראשי
```

---

נוצר: 2025-09-03  
מטרה: הבנה ברורה של זרימת המשתמש עם שמות כפתורים אמיתיים
