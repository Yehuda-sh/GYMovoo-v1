# מסכי אימונים (Workout Screens) 🏋️

## סקירה כללית

מסכי האימונים מהווים את הליבה הפונקציונלית של האפליקציה, ומאפשרים למשתמש לבצע, לתכנן ולעקוב אחר אימונים.

## 📱 מסכים במודול

### 1. WorkoutPlansScreen (מסך תוכניות אימון)

**מיקום:** `src/screens/workout/WorkoutPlansScreen.tsx`

**תפקיד:**

- יצירת תוכניות אימון מותאמות אישית
- עריכת תוכניות קיימות
- ניהול מאגר תוכניות אימון

**תכונות עיקריות:**

- 🎯 **בחירת מטרות:** משקל, חיטוב, כוח, סיבולת
- ⏱️ **משך אימון:** 15-90 דקות
- 📅 **תדירות:** 2-7 ימים בשבוע
- 🏋️ **רמת קושי:** מתחיל, בינוני, מתקדם
- 🛠️ **ציוד זמין:** בחירה מרובה מרשימת ציוד
- 🤖 **AI חכם:** בחירה אוטומטית של תרגילים מתאימים

**אלגוריתם יצירת תוכנית:**

1. ניתוח פרופיל המשתמש (גיל, רמה, מטרות)
2. בחירת תרגילים ממאגר מקומי (600+ תרגילים)
3. איזון קבוצות שרירים ויום מנוחה
4. התאמה לציוד הזמין
5. חישוב עומסים וחזרות אופטימליים

**קישורים:**

- ✅ תוכנית נוצרה → ActiveWorkoutScreen
- 🔗 עריכת תרגיל → ExerciseDetailsModal
- 🔗 החלפת תרגיל → ExerciseListScreen

---

### 2. ActiveWorkoutScreen (מסך אימון פעיל)

**מיקום:** `src/screens/workout/ActiveWorkoutScreen.tsx`

**תפקיד:**

- ביצוע אימון בזמן אמת
- מעקב אחר סטים, חזרות ומשקלים
- תיעוד התקדמות ושיאים

**תכונות עיקריות:**

- ⏱️ **טיימר אימון:** זמן כולל + מנוחה בין סטים
- 📊 **מעקב סטים:** חזרות, משקל, RPE (דירוג מאמץ)
- 🏆 **זיהוי שיאים:** משקל, נפח, זמן אוטומטי
- 📝 **הערות:** תיעוד תחושות ומצב
- 🔄 **המלצות:** עליית משקל חכמה לסט הבא
- 💾 **שמירה אוטומטית:** כל שינוי נשמר מיידית

**מצבי תצוגה:**

- **מצב רגיל:** רשימת תרגילים עם פרטים
- **מצב מינימליסטי:** רק התרגיל הפעיל
- **מצב טיימר:** טיימר גדול למנוחה

**אלמנטים אינטראקטיביים:**

- כפתורי +/- לחזרות ומשקל
- Swipe למעבר בין תרגילים
- Long press לעריכת סט
- Shake לביטול פעולה אחרונה

**קישורים:**

- ✅ סיום אימון → WorkoutSummaryModal
- 🔗 פרטי תרגיל → ExerciseDetailsModal
- 🔗 החלפת תרגיל → ExerciseListScreen
- ⏸️ השהיה → MainScreen (עם שמירת מצב)

---

### 3. QuickWorkoutScreen (מסך אימון מהיר)

**מיקום:** `src/screens/workout/QuickWorkoutScreen.tsx`

**תפקיד:**

- אימון מהיר ללא תכנון מראש
- בחירה אוטומטית של תרגילים
- מותאם לזמן פנוי ומצב רוח

**תכונות עיקריות:**

- ⚡ **יצירה מיידית:** 3-5 תרגילים מותאמים
- ⏰ **זמן גמיש:** 10-60 דקות
- 🎲 **מצב הפתעה:** תרגילים רנדומליים
- 🏃 **אימון קרדיו:** HIIT, טבטה, מעגלי
- 💪 **אימון כוח:** סט אחד לכל קבוצת שרירים

**אלגוריתם בחירה מהירה:**

1. זיהוי זמן פנוי (קלט מהמשתמש)
2. בדיקת ציוד זמין
3. ניתוח אימונים אחרונים (איזון)
4. בחירה חכמה מהמאגר המקומי
5. יצירת אימון מאוזן

**מצבי אימון מהיר:**

- **HIIT Express:** 15 דקות עצימות גבוהה
- **Strength Burst:** 20 דקות כוח מטורף
- **Cardio Blast:** 25 דקות קרדיו משתנה
- **Full Body:** 45 דקות כל הגוף
- **Flexibility Flow:** 20 דקות מתיחות

**קישורים:**

- ✅ אימון נבחר → ActiveWorkoutScreen
- 🔄 אימון אחר → רענון QuickWorkoutScreen
- ⚙️ התאמות → הגדרות מהירות

## 🔄 זרימת הניווט

```
MainScreen → WorkoutPlansScreen → ActiveWorkoutScreen
    ↓              ↓                      ↓
QuickWorkoutScreen → ActiveWorkoutScreen → HistoryScreen
```

## 🎨 עיצוב ו-UX

### כללי עיצוב:

- **RTL מלא:** כל הטקסטים וכפתורים מותאמים לעברית
- **Colors:** ירוק לסיום, כחול למצב פעיל, אדום לעצירה
- **Typography:** גדלי גופן ברורים למעקב במהלך אימון
- **Spacing:** מרחקים מותאמים לטאצ'ים מהירים
- **Contrast:** ניגודיות גבוהה לקריאה תחת תאורה שונה

### אנימציות:

- מעברים חלקים בין סטים
- אנימציית התקדמות בטיימר
- רטט למעקב ביום השלמת סט
- צבעים משתנים למצב RPE

### נגישות:

- VoiceOver לעיוורים
- הגדלת טקסט לכבדי ראייה
- כפתורים גדולים למוגבלי ניידות
- קולות למעקב ללא הסתכלות

## 🔧 טכנולוגיות

### State Management:

- **WorkoutStore:** מצב אימון נוכחי
- **TimerStore:** ניהול טיימרים
- **ProgressStore:** מעקב התקדמות
- **EquipmentStore:** ציוד זמין

### Performance:

- React.memo למניעת רענון מיותר
- useMemo לחישובים כבדים
- useCallback למניעת re-renders
- LazyLoading לתרגילים

### Storage:

- AsyncStorage לשמירת אימונים
- Cache תרגילים בזיכרון
- Backup אוטומטי לענן (בעתיד)

## 📊 אנליטיקה ומעקב

### מדדי ביצועים:

- **זמן אימון כולל**
- **נפח אימון:** סטים × חזרות × משקל
- **עצימות:** RPE ממוצע
- **עקביות:** אחוז השלמת אימונים

### שיאים אישיים:

- **1RM חזוי:** בחישוב לפי נוסחת Epley
- **נפח שיא:** סה"כ משקל המושקל באימון
- **זמן שיא:** המהירות ביצוע אימון מסוים
- **הישגי סיבולת:** זמן/מרחק בקרדיו

## 📋 משימות פיתוח עתידיות

### אינטגרציות:

- [ ] Spotify/Apple Music לפלייליסטים
- [ ] Apple Health / Google Fit סנכרון
- [ ] Strava לשיתוף אימונים
- [ ] MyFitnessPal לתזונה

### תכונות מתקדמות:

- [ ] הקלטת וידיאו לבדיקת טכניקה
- [ ] AR לבדיקת יישור גוף
- [ ] AI trainer עם המלצות בזמן אמת
- [ ] אימונים בקבוצה (ריימוט)
- [ ] תחרויות ואתגרים קהילתיים

### מצבים מיוחדים:

- [ ] מצב שקט (ללא צלילים)
- [ ] מצב לילה (עיניים רגישות)
- [ ] מצב שינה (אימוני לילה)
- [ ] מצב טיול (אימונים ללא ציוד)
