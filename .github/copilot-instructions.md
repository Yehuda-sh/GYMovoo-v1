# ✨ עדכון הנחיות עבודה (2025-08-14)

- תמיד לעבוד על בסיס קוד קיים, לשמור עיצוב וצבעים, לא למחוק קבצים בלי אישור.
- להתחיל בתשתיות, אחר כך לעבוד לפי הפלואו – כל מסך יסומן כ"סיים" רק לאחר שכל הלוגיקה, UI, בדיקות ותיעוד הושלמו.
- **Supabase הוא מקור האמת** - כל הנתונים מגיעים מהענן, לא מקובצי JSON מקומיים.
- הפצה: להתמקד באנדרואיד.
- לזהות ולחסוך כפילויות, לשפר מבנה, ולהסיר קוד מיותר.
- לשלב בדיקות אוטומטיות (unit, integration, E2E) לכל רכיב חדש/משופר.
- להוסיף כפתור התחברות מהירה במסך הפתיחה למשתמש אמיתי עם נתונים אמיתיים בלבד.
- לטפל ב-CI/CD רק אם יתעורר צורך.
- כל נתון אישי ניתן לעדכון בפרופיל, והמערכת מסתנכרנת בהתאם.
- לא לגעת בתרגומים קיימים, לשמור על תמיכה מלאה בעברית ואנגלית.

## 🌐 Supabase - מקור האמת הענני (2025-08-14)

- **מעבר הושלם**: האפליקציה מחוברת ל-Supabase PostgreSQL במקום שרת מקומי.
- **כל הנתונים בענן**: משתמשים, שאלון, היסטוריית אימונים, סטטיסטיקות.
- **AsyncStorage כ-cache בלבד** ולא כמקור אמת.
- **API מחובר לענן**: `src/services/api/userApi.ts` מזהה אוטומטית Supabase ועובד איתו.
- **משתני סביבה נדרשים**:
  - `EXPO_PUBLIC_SUPABASE_URL="https://nyfvsmateipdmpshllsd.supabase.co"`
  - `EXPO_PUBLIC_SUPABASE_ANON_KEY="your_anon_key"`
- **שמות עמודות PostgreSQL**: כל שדה camelCase הופך לאותיות קטנות (`smartQuestionnaireData` → `smartquestionnairedata`)
- **Zustand מסונכרן**: נטען מ-Supabase ומסנכרן חזרה מידי או בדיבאונס.
- **אין ליצור נתונים מהאוויר** או לשנות מבנים ללא ערכים חוקיים מהמערכת.

### 🛠️ כלי עבודה עם Supabase

- `npm run test:supabase` - בדיקת חיבור ופעולות CRUD
- `npm run supabase:import-users` - העברת משתמשים מ-JSON ל-Supabase
- טבלת `public.users` עם 20 עמודות JSONB לנתונים מורכבים

## ⚡ Quick rules (TL;DR)

- מקור אמת: Supabase בלבד. אין שרת מקומי יותר; AsyncStorage כ-cache בלבד.
- שמור תשובות קצרות וא-אישיות; העדף בולטים על פני טקסט חופשי.
- מענה למשתמש בעברית בלבד; אל תשתמש באנגלית בתגובות, למעט קוד, שמות קבצים ופקודות.
- אל תבצע רי-פורמט לקבצים שלמים; בצע שינויים מינימליים ורלוונטיים בלבד.
- **אחרי שינוי קוד: בדיקות מקיפות חובה** (ראה חלק "בדיקות איכות" למטה).
- הרץ רק פקודות נחוצות עם הסבר קצר למטרה ולתוצאה המצופה; הימנע מפקודות "סרק"/"דופק".
- בדוק ותקף מבני נתונים (data contracts) בין מסכים/שירותים לפני ריצה.
- React Native/Expo: אם פורט 8081 תפוס – אשר החלפה לפורט חלופי והמשך.
- Windows/PowerShell: ודא פקודות תואמות pwsh.

# 🔍 פרוטוקול בדיקת קבצים - תקינות Supabase וחיבור לענן (2025-08-14)

**חובה לבדוק כל קובץ לפני עריכה!** כאשר עוברים על קובץ קיים, יש לבדוק:

## 📋 רשימת בדיקות חובה לכל קובץ

### 🔌 בדיקות חיבור ו-API

- **יש imports ל-API מקומי?** חפש `userApi`, `workoutApi`, `http://localhost`, `3001`, `EXPO_PUBLIC_STORAGE_BASE_URL`
- **יש קריאות לשרת מקומי?** חפש `fetch(`, `axios.`, `api.get(`, `api.post(`
- **יש AsyncStorage כמקור אמת?** חפש `AsyncStorage.getItem`, `AsyncStorage.setItem` (אמור להיות cache בלבד)
- **יש Supabase imports?** חפש `@supabase/supabase-js`, `supabase.from`, `createClient`

### 📊 בדיקות מבני נתונים

- **שמות שדות נכונים?** `smartQuestionnaireData` vs `smartquestionnairedata` (PostgreSQL lowercase)
- **מבנה JSON תואם?** בדוק שהנתונים תואמים לטבלת `public.users` (20 עמודות JSONB)
- **קבועים מהמקום הנכון?** השתמש רק בערכים מ-`src/data/unifiedQuestionnaire.ts`

### 🔧 בדיקות טכניות

- **משתני סביבה נכונים?** `EXPO_PUBLIC_SUPABASE_URL`, `EXPO_PUBLIC_SUPABASE_ANON_KEY`
- **TypeScript מקומפל?** בדוק שאין שגיאות אחרי שינויים
- **imports/exports תקינים?** אחרי מחיקת קבצים בדוק שאין הפניות שבורות

## 🚨 דגלים אדומים - קבצים שדורשים עדכון מיידי

**מחק/עדכן מיידית אם נמצא:**

- ❌ `http://10.0.2.2:3001` או כל URL מקומי אחר
- ❌ `EXPO_PUBLIC_STORAGE_BASE_URL` (משתנה סביבה ישן)
- ❌ `userApi.getUsersFromLocalFile()` או פונקציות מקומיות דומות
- ❌ נתוני JSON מקומיים ב-`storage/db/` כמקור אמת
- ❌ `axios.create({ baseURL: localServerUrl })` בלי fallback ל-Supabase

**עדכן ל-Supabase אם נמצא:**

- ✅ החלף ב-`supabase.from('users').select()` במקום API calls מקומיים
- ✅ השתמש בשמות עמודות אותיות קטנות (`smartquestionnairedata`)
- ✅ ודא שכל CRUD מתבצע דרך Supabase client

## 📝 תבנית בדיקה מהירה (Copy-Paste לכל קובץ)

```
🔍 בדיקת קובץ: [שם הקובץ]
- [ ] חיבור לשרת מקומי? (מחק/עדכן)
- [ ] AsyncStorage כמקור אמת? (רק cache מותר)
- [ ] שמות שדות PostgreSQL נכונים? (lowercase)
- [ ] Supabase imports קיימים?
- [ ] משתני סביבה עדכניים?
- [ ] קבועים מהמקום הנכון?
- [ ] TypeScript מקומפל?
```

## 🎯 קבצים קריטיים שדורשים בדיקה מיוחדת

**API Services:**

- `src/services/api/userApi.ts` - חובה Supabase integration
- `src/services/api/workoutApi.ts` - עדיין יכול להיות מקומי (לעדכון עתידי)

**Stores:**

- `src/store/userStore.ts` - חובה sync עם Supabase
- כל store אחר שמנהל נתוני משתמש

**Screens עם נתוני משתמש:**

- `src/screens/Profile/` - כל מסך פרופיל
- `src/screens/Questionnaire/` - שמירה ל-Supabase
- `src/screens/Welcome/` - טעינה מ-Supabase

## 🔧 פעולות תיקון מיידיות לפי סוג בעיה

### 📡 קובץ עם חיבור לשרת מקומי

```typescript
// ❌ לפני (מחק/עדכן):
const response = await fetch("http://10.0.2.2:3001/api/users");

// ✅ אחרי (Supabase):
const { data, error } = await supabase.from("users").select("*");
```

### 🗄️ קובץ עם AsyncStorage כמקור אמת

```typescript
// ❌ לפני (רק לcache):
const userData = await AsyncStorage.getItem("user");

// ✅ אחרי (Supabase + cache):
const { data } = await supabase.from("users").select("*").eq("id", userId);
// AsyncStorage רק לcaching: await AsyncStorage.setItem('user_cache', JSON.stringify(data));
```

### 🏷️ קובץ עם שמות שדות שגויים

```typescript
// ❌ לפני (camelCase):
user.smartQuestionnaireData;

// ✅ אחרי (PostgreSQL lowercase):
user.smartquestionnairedata;
```

### 📋 קובץ עם קבועים לא מהמקום הנכון

```typescript
// ❌ לפני (ערכים מבודדים):
const equipment = ["dumbbells", "barbell"];

// ✅ אחרי (מקבועים):
import { unifiedQuestionnaire } from "src/data/unifiedQuestionnaire";
const equipment = unifiedQuestionnaire.questions.equipment.options.map(
  (opt) => opt.id
);
```

## 🚀 פרוטוקול עדכון קובץ מלא

1. **זיהוי בעיות**: עבור על רשימת הבדיקות למעלה
2. **דיווח למשתמש**: "נמצאו בעיות ב-[קובץ]: [רשימה קצרה]"
3. **קבלת אישור**: "האם לתקן עכשיו?"
4. **ביצוע תיקונים**: החלף/עדכן/מחק בעייתי
5. **אימות מקיף**: הרץ בדיקות לפי רשימת "בדיקות איכות מקיפות"
6. **דיווח סיכום**: "תוקן: [מה שהשתנה] | בדיקות: [מה שהורץ] | תוצאה: [✅/❌]"

## 🎯 דוגמה לבדיקה מעשית

כאשר עוברים על `src/screens/Profile/ProfileScreen.tsx`:

1. ✅ חפש `userApi` imports
2. ✅ בדוק אם יש `AsyncStorage.getItem('user')`
3. ✅ וודא ש-`user.smartQuestionnaireData` → `user.smartquestionnairedata`
4. ✅ בדוק שכל עדכון פרופיל עובר דרך Supabase
5. ✅ וודא שהנתונים נטענים מ-`userStore` (שמסונכרן עם Supabase)

אם נמצאו בעיות → דווח → קבל אישור → תקן → אמת.

# 🧐 בדיקת דיוק הפניות לרכיבים/פיצ'רים

אם יש הפניה לרכיב/פיצ'ר קיים – בדוק שהשם והמיקום מדויקים, גם אם יש קבצים עם שמות דומים בתיקיות אחרות.
אם יש פער בין התיעוד לקוד (למשל מיקום שגוי או שם שונה) – עצור, עדכן את המשתמש, והצע תיקון.

# 📋 בדיקת קבצים מרכזיים לפני יצירת נתוני דמו (2025-08-12)

**חובה לבדוק קודם!** לפני יצירת משתמש דמו או נתוני בדיקה:

## 🔍 קבצי קבועים וערכים חוקיים

- ✅ **בדוק תמיד**: `src/data/unifiedQuestionnaire.ts` - מכיל את כל האפשרויות החוקיות לשאלון
- ✅ **בדוק תמיד**: `src/constants/` - קבצים מרכזיים עם ערכים מוגדרים
- ✅ **בדוק תמיד**: קבצי טיפוסים ב-`src/types/` למבני נתונים נכונים

## 🚫 טעויות נפוצות שחובה למנוע

- ❌ **לא לבדות ערכים**: השתמש רק בערכים מהקבצים המרכזיים (למשל `"26_35"` לא `"25-35"`)
- ❌ **לא להמציא אפשרויות**: כל ערך חייב להיות מוגדר במערכת הקיימת
- ❌ **לא להתעלם ממבנה נתונים**: בדוק איך ProfileScreen/שאר המסכים מצפים לקבל את הנתונים

## ✅ תהליך יצירת נתוני דמו נכונים

1. **קרא** את `src/data/unifiedQuestionnaire.ts` לאפשרויות חוקיות
2. **בדוק** איך המסכים הקיימים קוראים את הנתונים
3. **השתמש** רק בערכים המוגדרים במערכת
4. **בדוק** שכל שדה תואם למה שהמסכים מצפים
5. **וודא** שהשאלון מוכר כמושלם (`hasQuestionnaire: true`)

**דוגמה נכונה מהיום:**

- ✅ `"age": "26_35"` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"age": "25-35"` (לא קיים במערכת)
- ✅ `"gender": "male"` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"gender": "man"` (לא קיים במערכת)
- ✅ `"height": "171_180"` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"height": "170-180"` (לא קיים במערכת)
- ✅ `"weight": "71_80"` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"weight": "70-80"` (לא קיים במערכת)
- ✅ `"goals": ["build_muscle"]` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"goals": ["muscle_gain", "strength"]` (לא קיים במערכת)
- ✅ `"sessionDuration": "45_60_min"` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"sessionDuration": "45-60"` (לא קיים במערכת)
- ✅ `"equipment": ["free_weights", "squat_rack"]` (מוגדר ב-unifiedQuestionnaire)
- ❌ `"equipment": ["dumbbells", "barbell"]` (לא קיים במערכת)

**זיכרו: המערכת קיימת וחכמה - השתמשו בה במקום להמציא חדשה!** 🎯

---

## 🛑 טיפול בפיצ'רים/רכיבים לא קיימים

אם אתה מזהה במסמך או בקוד הפניה לרכיב/פיצ'ר שלא קיים במימוש:

- עצור ושאל את המשתמש האם להוסיף/לממש, להסיר/לעדכן, או להשאיר כהערה למשימה עתידית.
- אל תבצע שינוי משמעותי בלי אישור מפורש מהמשתמש.

## 🏗️ מבנה וארכיטקטורה עיקרית

- הפרויקט בנוי סביב React Native (TypeScript) עם Zustand לניהול state.
- כל מסך/מודול מרכזי נמצא תחת `src/screens/`, רכיבים משותפים ב-`src/components/`, נתונים ב-`src/data/`.
- שירותים עיקריים (כמו יצירת משתמש דמו, שאלון חכם) ממוקמים ב-`src/services/`.
- תיעוד, לקחים, חוקים וסיכומים נמצאים ב-`docs/` ובקבצי README/MD שונים.

## 🛠️ דפוסי עבודה קריטיים

- בנייה והרצה: השתמש בפקודות npm (`npm run android`, `npm run ios`, `npm test`).
- בדיקות: קבצי בדיקות ממוקמים ב-`src/screens/*/test*.js` או בתיקיית `scripts/`. כל שינוי לוגי מחייב בדיקת קבצי בדיקה רלוונטיים.
- ניקוי imports: הסר imports לא בשימוש בכל שינוי.
- קבועים: רכז מחרוזות חוזרות/קבועים ב-`src/constants/`.
- צבעים: השתמש ב-`theme.colors` בלבד.
- RTL ונגישות: ודא שימוש ב-`writingDirection: "rtl"` לכל טקסט בעברית, והוסף/שפר accessibility labels.
- שמירה על פאטצ' קטן: אל תגע בקוד לא קשור; הימנע משינויים סגנוניים גורפים.
- **SafeAreaView חובה**: כל מסך חדש או שיש בו בעיות UI חייב להשתמש ב-`SafeAreaView` מ-`react-native-safe-area-context` למניעת חפיפה עם עיגול המצלמה/המשפך ותחומי המכשיר.

## 📐 Data contracts (אימות מבני נתונים)

- ודא אחידות טיפוסים בין מסכים ושירותים (למשל `ProfileScreen` ↔ `WelcomeScreen` ↔ services).
- הימנע ממערכים מקוננים ללא צורך. דוגמה: `equipment` חייב להיות `string[]` ולא `string[][]`.
- שדות שאלון: ודא ש-`questionnaire` (לוגיקה ישנה) ו-`smartQuestionnaireData` (חדשה) מסונכרנים, במיוחד שדות כמו `equipment`, `goals`, `availability`.
- לפני מיזוג: הדפס ללוג ערכים קריטיים לאימות מהיר (equipment, goals, availability, sessionDuration).

## 🧹 שיפורים וייעול

- הסר כפילויות קוד בכל רמה – השתמש בפונקציות עזר/רכיבים משותפים.
- אל תיגע/תמחק תרגומים – שמור על טקסטים ותיעוד בעברית ואנגלית.
- הסר נתוני דמו/placeholder – החלף בלוגיקה דינמית או הסר.
- רכז קבועים – העבר מחרוזות חוזרות לקובץ constants משותף.
- סדר וקריאות – שמור על מבנה עקבי עם שאר הפרויקט.
- **הסרה הדרגתית**: כשמשתמש מבקש להסיר פיצ'רים (כמו בחירה מהירה, כפתורי עזרה) - הסר בשלבים: קומפוננט ← סגנונות ← פונקציות ← תיעוד.

## 🧑‍🔬 הנחיות טיפול בקבצי דמו (Demo)

כל קובץ/פונקציה/מודול שמזהה דמו (Demo, DemoUser, realisticDemo, placeholder, customDemoUser):

- הפרדה ברורה: שמור את כל קוד הדמו במודול/פונקציה נפרדת (למשל `demoUserService.ts`).
- סימון משתמש דמו: ודא שכל אובייקט דמו מכיל שדה `isDemo: true`.
- הצגת תווית: במסכים – הצג תווית "משתמש דמו" (למפתחים בלבד).
- מחיקת דמו אוטומטית: ודא שמשתמש דמו נמחק אוטומטית בסיום סשן/רענון/יציאה.
- עדכון דמו אוטומטי: כל שינוי בשדות המשתמש/שאלון – עדכן גם את פונקציית הדמו.
- בדיקות אוטומטיות: ודא שכל שדה חדש מופיע גם בדמו (הוסף בדיקות).
- הפעלה/כיבוי דמו: אפשר להפעיל/לכבות דמו בקלות (משתנה סביבה/כפתור dev).
- תיעוד ברור: הוסף תיעוד קצר שמסביר מהו דמו, איך מפעילים, ואיך מזהים אותו.

כל שינוי/שדרוג משמעותי – להציע קודם לאישור המשתמש!

טיפ שימושי: כאשר מוסיפים שדות חדשים למשתמש, עדכן גם את שכבת התאימות לשאלון בסיסי (`user.questionnaire`) כדי להבטיח תצוגה נכונה במסכי פרופיל ישנים.

## 📋 ניהול מסמכים

- בדוק מסמכי docs/README/MD נוספים – אם יש כפילויות, מיזג ועדכן רק את המידע הרלוונטי.
- השאר רק לקחים/הנחיות משמעותיות ועדכניות.
- עדכן תיעוד בכל שינוי משמעותי (בעברית ואנגלית).

## 🔍 בדיקת השפעה

- סקור קבצים/מודולים נוספים – דווח אילו קבצים מושפעים ויש לעדכנם.
- סמן קבצים כפולים/ישנים/לא בשימוש – הצע למחוק עם נימוק.
- בדוק אם יש צורך בעדכון טיפוסים, ממשקים, תרגומים או מסמכי תיעוד.
- זהה רכיבים דומים – הצע איחוד קוד במסכים/מודולים אחרים.
- **שגיאות import**: תמיד בדוק exports/imports אחרי מחיקת קבצים - השתמש ב-grep_search לחיפוש הפניות נותרות.

## 📱 בדיקת UI ותאימות למסך

- **בעיות Safe Area**: אם המשתמש מדווח על חפיפה עם עיגול המצלמה/המשפך או ש-UI לא נגיש, הוסף מיידית `SafeAreaView` מ-`react-native-safe-area-context`.
- **ניווט לא עובד**: בדוק שהפונקציות מחוברות נכון לכפתורים (`onPress={handleFunction}`).
- **בעיות RTL**: ודא `writingDirection: "rtl"`, `textAlign: "right"`, `flexDirection: "row-reverse"` לטקסט עברי.
- **כפתורים לא מגיבים**: בדוק שאין שכבות חוסמות (`zIndex`, `elevation`, רכיבים מכסים).

**בדיקות חובה לפני ריצה:**
ראה חלק "בדיקות איכות מקיפות" למעלה - הרץ לפחות בדיקות בסיסיות.

## 🛡️ בטיחות

- בצע שינויים רק בתחום הברור והבטוח.
- כל שינוי משמעותי/מיזוג/מחיקה – להציג קודם לאישור.
- אל תמחק פונקציונליות עיקרית – רק דמו/placeholder.
- שמור על TypeScript מלא – ודא שאין שגיאות קומפילציה.

## 🤖 הנחיות לעוזר (AI Assistant)

- זהה את מטרת המשתמש במהירות והצע צעדים ישימים.
- ענה תמיד בעברית בלבד. הימנע מאנגלית בתשובה, מלבד הצגת קוד, שמות קבצים ופקודות טרמינל.
- שמור על ניסוח תמציתי, ענייני וללא סופרלטיבים; העדף רשימות נקודתיות.
- שמור תשובות קצרות, ענייניות, וללא סופרלטיבים. הימנע מעיצוב כבד; בולטים כן, טבלאות רק אם צריך.
- בצע שינויים ישירות כשאפשר; אחרי כל שינוי מהותי, הרץ קומפילציה/בדיקה קצרה.
- כשמבנה נתונים לא ברור – בצע הנחה סבירה אחת או שתיים והמשך, וציין אותן בתמציתיות.
- דווח הבדלי מצב בקיצור (מה שונה מאז הצעד האחרון) במקום לחזור על כל התכנית.

## 🧪 בדיקות איכות מקיפות

**חובה אחרי כל שינוי קוד!** הרץ בדיקות לפי סדר החשיבות:

### 🔧 בדיקות בסיסיות (תמיד)

1. **TypeScript Compilation**: `npx tsc --noEmit`
2. **Import/Export תקינות**: חפש שגיאות import אחרי מחיקות
3. **Linting**: `npx eslint src/ --ext .ts,.tsx` (אם יש)

### 🌐 בדיקות Supabase (כשרלוונטי)

4. **חיבור תקין**: `npm run test:supabase`
5. **מבני נתונים**: ודא שמות עמודות PostgreSQL נכונים
6. **משתני סביבה**: `EXPO_PUBLIC_SUPABASE_URL` ו-`EXPO_PUBLIC_SUPABASE_ANON_KEY`

### 📱 בדיקות React Native (למסכים חדשים/מעודכנים)

7. **Metro bundler**: `npm start` (בדוק שלא קורס)
8. **Build Android**: `npm run android` (אם יש שינויים native)
9. **Hot reload**: בדוק שהשינויים נטענים נכון באמולטור

### 🧪 בדיקות פונקציונליות (לשינויים לוגיים)

10. **Unit tests**: `npm test` (אם יש)
11. **Demo data**: `scripts/createRealisticUser.js` (אם שינוי במבני נתונים)
12. **Navigation flow**: בדוק שהניווט עובד בין מסכים

### 🔍 בדיקות מתקדמות (לשינויים גדולים)

13. **Performance**: בדוק זמני טעינה וזיכרון
14. **Accessibility**: ודא labels ו-RTL support
15. **Error handling**: בדוק טיפול בשגיאות רשת

## 📋 סקריפט בדיקה מהיר (Copy-Paste)

```bash
# בדיקות בסיסיות חובה
npx tsc --noEmit
npm run test:supabase
npm start

# בדיקות נוספות לפי צורך
npm test
npm run android
```

### ⚠️ כשלים נפוצים ופתרונות

- **TypeScript errors**: בדוק imports חסרים או שמות שדות שגויים
- **Supabase connection fail**: ודא משתני סביבה או בדוק status
- **Metro bundler crash**: נקה cache עם `npx expo start --clear`
- **Build fails**: בדוק dependencies עם `npm audit`

**זכור: עדיף לבדוק 2 דקות מאשר לתקן באגים 20 דקות! 🎯**

## 🗣️ דיאלוג עם המשתמש

- אם לא ברור – שאל את המשתמש לפני מחיקה/שינוי עמוק.
- הצע שדרוגים משמעותיים רק לאחר קבלת אישור.

## 📱 אמולטור ובדיקות מובייל

- **בעיות גלילה באמולטור**: השתמש ב-ScrollView עם `nestedScrollEnabled={true}`, `removeClippedSubviews={false}`, רווחים גדולים (300px+ bottomSpacer).
- **Debug logging**: הוסף console.log למעקב אחר גלילה, contentSize, scroll position באמולטורים.
- **כשל בפתרונות זמניים**: אם פתרונות כמו כפתורי עזרה/בחירה מהירה לא עובדים - הסר אותם והתמקד בפתרון הבסיסי.

### Expo / React Native 0.77

- לוגי JavaScript: בגרסה 0.77 הלוגים יזוזו ל-React Native DevTools. השתמשו בהם כברירת מחדל; אפשר לפתוח מהטרמינל (קיצור j) כאשר זמין.
- קונפליקט פורטים: אם 8081 תפוס – אשר מעבר לפורט חלופי והמשך. ודא שהאפליקציה/אמולטור מאזינים לפורט המעודכן.
- Windows/Pwsh: וודא שהפקודות מתאימות ל-PowerShell (לדוגמה, ציטוטים ו-backticks בדוקומנטים).

## 🔄 בניית מערכות מחדש

- **זיהוי מורכבות יתר**: כאשר יש מרובה קבצים דומים (SmartQuestionnaireScreen, newSmartQuestionnaire, smartQuestionnaireEquipment) - הצע בנייה מחדש במערכת אחודה.
- **Unified Systems**: העדף קובץ אחד עם מנהל מרכזי (UnifiedManager) על פני מספר קבצים קטנים.
- **נקה תוך כדי**: כשבונה מערכת חדשה, הסר את הישנה מיד כדי למנוע קונפליקטים.

## 🐛 דיבוג בעיות ניווט וכפתורים

- **כפתורים לא עובדים**: אם כפתור לא מגיב, בדוק קודם שהפונקציה מחוברת (`onPress={handleFunction}`) לפני שחושדים ברכיב עצמו.
- **בדיקת פונקציונליות**: הוסף `console.warn` זמני או `alert` לוודא שהפונקציה נקראת.
- **כפתור חזרה לא עובד**: אם BackButton לא עובד, צור פונקציה מותאמת עם `navigation.goBack()` והעבר ב-`onPress`.
- **בדיקת navigation**: השתמש ב-`navigation.canGoBack()` לבדיקה אם יש היסטוריה לפני `goBack()`.
- **פתרון חירום**: תמיד הכן ניווט חלופי אם אין היסטוריה (למשל חזרה למסך הבית או רשימה).

## 💡 שיפורי חוויית משתמש מיידיים

- **תיקוני RTL מהירים**: כשמשתמש מדווח על בעיות RTL, הוסף מיד `writingDirection: "rtl"` לכל הטקסטים העבריים במסך.
- **Safe Area כברירת מחדל**: אם יש התלוננות על UI שחופף למצלמה/משפך, החלף `View` ב-`SafeAreaView` מיד.
- **בדיקה מקיפה**: אחרי תיקוני RTL/SafeArea, הרץ רשימת "בדיקות איכות מקיפות"
- **עדכון הנחיות**: כל לקח חדש מפתרון בעיות אמיתיות - הוסף מיד להנחיות למניעת חזרות.

## 🎯 יצירת משתמשים אמיתיים - לקחים (אוגוסט 2025)

- **מטאדטה ≠ תוכן**: משתמש עם 90 אימונים במטאדטה זקוק ל-90 אימונים בפועל עם תרגילים מפורטים.
- **workoutPlans.workouts חובה**: תוכניות אימון חייבות להכיל תוכן אמיתי, לא רק metadata.
- **היסטוריה מלאה**: כל אימון זקוק לתאריך, תרגילים, סטים, חזרות, משקלים, דירוג.
- **תוכן שבועי פעיל**: משתמש במנוי פרימיום זקוק לתוכנית שבועית מלאה עם אימונים מוכנים.
- **בדיקת שלמות**: לפני יצירת משתמש - ודא שכל הנתונים הדינמיים קיימים, לא רק הסטטיים.
- **נתונים מותאמים מגדר**: משתמש זכר/נקבה זקוק לשמות תרגילים והודעות מותאמים.
- **סנכרון stores**: נתוני משתמש חייבים להיות סונכרנים בין userStore, workoutStore, historyStore.

## 🧹 ניקוי ו-Cleanup מקיף

- **מחיקת קבצים ישנים**: אחרי החלפת מערכת, בדוק index.ts files להסרת exports מיותרים.
- **Import cleanup**: אחרי מחיקת רכיבים, חפש imports שנותרו עם grep_search ותקן אותם.
- **תיעוד מעודכן**: עדכן README/MD files להסיר הפניות לרכיבים שנמחקו.
- **סדר פעולות**: מחק קבצים ← תקן imports ← עדכן תיעוד ← בדיקת קומפילציה.
